<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Soil Compaction ‚Äì Chapter 1</title>

<style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.5; }
    h2 { color: #2c3e50; }
    .question { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
    button {
        padding: 8px 16px; margin-top: 10px; cursor: pointer; 
        background: #3498db; color: white; border: none; border-radius: 6px;
    }
    .correct { color: green; font-weight: bold; margin-top: 10px; }
    .wrong { color: red; font-weight: bold; margin-top: 10px; }
    
    /* ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô Drag & Drop */
    .drag-container { display: flex; gap: 40px; margin-top: 10px; }
    .drag-items-list, .drop-boxes-list { display: flex; flex-direction: column; gap: 10px; }
    
    .drag-item {
        padding: 10px; border: 1px solid #aaa; border-radius: 6px;
        background: #f9f9f9; cursor: grab;
        width: 150px; text-align: center;
    }
    .drop-box { 
        padding: 10px; border: 2px dashed #aaa; border-radius: 6px; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á */
        background: #eef; 
        width: 150px; 
        min-height: 40px; /* ‡πÉ‡∏ä‡πâ min-height ‡πÅ‡∏ó‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ item ‡∏ß‡∏≤‡∏á‡∏•‡∏á‡πÑ‡∏õ‡πÑ‡∏î‡πâ */
        text-align: center;
    }
    .dragged { opacity: 0.5; } /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡∏≤‡∏Å */
</style>
</head>

<body>

<h2>üîç Chapter 1: Research Context & Scholarly Identity</h2>
<p>Interactive activities to test your understanding of soil compaction in agricultural engineering.</p>

<div class="question">
    <h3>1) Which factor is a major contributor to Soil Compaction?</h3>

    <label><input type="radio" name="q1" value="a"> Increasing weight of agricultural machinery</label><br>
    <label><input type="radio" name="q1" value="b"> Reduced use of farm fertilizers</label><br>
    <label><input type="radio" name="q1" value="c"> Higher temperature during harvest</label><br>

    <button onclick="checkQ1()">Check Answer</button>
    <div id="q1-result"></div>
</div>

---

<div class="question">
    <h3>2) Match each term with the correct description:</h3>

    <div class="drag-container">
        <div class="drag-items-list" id="drag-source-container"> 
            <div class="drag-item" draggable="true" id="item1" data-correct-drop="drop1">Porosity ‚Üì</div>
            <div class="drag-item" draggable="true" id="item2" data-correct-drop="drop2">Infiltration ‚Üì</div>
            <div class="drag-item" draggable="true" id="item3" data-correct-drop="drop3">Soil Strength ‚Üë</div>
        </div>

        <div class="drop-boxes-list">
            <div class="drop-box" id="drop1">Reduced air movement</div>
            <div class="drop-box" id="drop2">More runoff</div>
            <div class="drop-box" id="drop3">Harder for roots to grow</div>
        </div>
    </div>

    <button onclick="checkDrag()">Check Answer</button>
    <div id="drag-result"></div>
</div>

---

<div class="question">
    <h3>3) What is one global environmental issue linked to soil compaction?</h3>

    <input type="text" id="q3" placeholder="Type your answer here..." style="width: 95%; padding: 8px;">

    <button onclick="checkQ3()">Check Answer</button>
    <div id="q3-result"></div>
</div>

<script>
// ------------------- Q1 Multiple Choice -------------------
function checkQ1() {
    const ans = document.querySelector('input[name="q1"]:checked');
    if (!ans) {
        document.getElementById("q1-result").innerHTML = "<div class='wrong'>Please select an answer.</div>";
        return;
    }
    if (ans.value === "a") {
        document.getElementById("q1-result").innerHTML = "<div class='correct'>Correct! Heavy machinery increases soil compaction.</div>";
    } else {
        document.getElementById("q1-result").innerHTML = "<div class='wrong'>Incorrect. Try again.</div>";
    }
}

// ------------------- Drag & Match -------------------
let dragItem = null;
const dropTargets = document.querySelectorAll(".drop-box");
const dragItems = document.querySelectorAll(".drag-item");
const dragSourceContainer = document.getElementById("drag-source-container");

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á
function resetDragItems() {
    dragItems.forEach(item => {
        // ‡∏¢‡πâ‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        dragSourceContainer.appendChild(item);
        item.classList.remove('dragged');
        item.style.order = 0; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ
    });
    
    // ‡∏•‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
    document.getElementById("drag-result").innerHTML = "";

    // ‡∏•‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡∏≠‡∏á drop-box (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡∏¥‡∏°) - ‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ drop-box ‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
    // ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏≤‡∏¢‡πâ‡∏≤‡∏¢ item1, item2, item3 ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà drag-source-container ‡πÅ‡∏•‡πâ‡∏ß 
    // ‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏≤‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô drop-box ‡∏≠‡∏µ‡∏Å
}

// ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ (Drag Items)
dragItems.forEach(item => {
    item.addEventListener("dragstart", (e) => {
        dragItem = item;
        e.dataTransfer.effectAllowed = "move";
        e.dataTransfer.setData("text/plain", item.id); // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î ID ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡πÇ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        setTimeout(() => item.classList.add('dragged'), 0);
    });
    item.addEventListener("dragend", () => {
        item.classList.remove('dragged');
    });
});

// ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á (Drop Boxes)
dropTargets.forEach(box => {
    // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏≤‡∏á‡πÑ‡∏î‡πâ
    box.addEventListener("dragover", (e) => e.preventDefault()); 

    // ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á
    box.addEventListener("drop", (e) => {
        e.preventDefault();
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏≤‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if (dragItem) {
            // ‡∏¢‡πâ‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏≤‡∏Å‡πÑ‡∏õ‡∏ó‡∏µ‡πà drop-box ‡πÉ‡∏´‡∏°‡πà
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ drop-box ‡∏°‡∏µ item ‡∏≠‡∏∑‡πà‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            // ‡∏´‡∏≤‡∏Å‡∏°‡∏µ: ‡∏ô‡∏≥ item ‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà source container ‡∏Å‡πà‡∏≠‡∏ô
            if (box.children.length > 0) {
                 const existingItem = box.children[0];
                 dragSourceContainer.appendChild(existingItem);
            }
            
            // ‡∏ß‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏≤‡∏Å‡∏•‡∏á‡πÉ‡∏ô drop-box
            box.appendChild(dragItem);
            dragItem = null; // ‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏•‡∏≤‡∏Å
        }
    });
});

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Drag & Match
function checkDrag() {
    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏° ID ‡∏Ç‡∏≠‡∏á item ‡πÅ‡∏•‡∏∞ drop-box
    const matches = [
        { item: "item1", drop: "drop1" }, // Porosity ‚Üì -> Reduced air movement
        { item: "item2", drop: "drop2" }, // Infiltration ‚Üì -> More runoff
        { item: "item3", drop: "drop3" }  // Soil Strength ‚Üë -> Harder for roots to grow
    ];

    let allCorrect = true;

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏π‡πà
    matches.forEach(match => {
        const dropBox = document.getElementById(match.drop);
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ dropBox ‡∏°‡∏µ children (‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏≤‡∏Å) ‡πÅ‡∏•‡∏∞ ID ‡∏Ç‡∏≠‡∏á item ‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        if (dropBox.children.length === 0 || dropBox.children[0].id !== match.item) {
            allCorrect = false;
        }
    });

    if (allCorrect) {
        document.getElementById("drag-result").innerHTML = "<div class='correct'>Perfect! All matches are correct.</div>";
    } else {
        document.getElementById("drag-result").innerHTML = "<div class='wrong'>Some matches are incorrect. Try again.</div>";
        // ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
        setTimeout(resetDragItems, 2000); // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
    }
}

// ------------------- Q3 Short Answer -------------------
function checkQ3() {
    const userAns = document.getElementById("q3").value.toLowerCase().trim();
    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
    const keywords = ["erosion", "greenhouse", "waterlogging", "ghg", "n2o", "flood", "sediment"]; 

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏≥‡πÉ‡∏î‡∏Ñ‡∏≥‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    const correct = keywords.some(k => userAns.includes(k));

    if (correct) {
        document.getElementById("q3-result").innerHTML = "<div class='correct'>Correct! Soil compaction contributes to global environmental issues such as **soil erosion** and increased **greenhouse gas emissions (N‚ÇÇO)**.</div>";
    } else {
        document.getElementById("q3-result").innerHTML = "<div class='wrong'>Not quite. Think about erosion or greenhouse gases.</div>";
    }
}
</script>

</body>
</html>
